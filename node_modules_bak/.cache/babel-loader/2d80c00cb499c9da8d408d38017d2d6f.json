{"remainingRequest":"C:\\Users\\mail\\Desktop\\projects\\supportlocal\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\mail\\Desktop\\projects\\supportlocal\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\mail\\Desktop\\projects\\supportlocal\\src\\vuex\\store.js","dependencies":[{"path":"C:\\Users\\mail\\Desktop\\projects\\supportlocal\\src\\vuex\\store.js","mtime":1584624220236},{"path":"C:\\Users\\mail\\Desktop\\projects\\supportlocal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mail\\Desktop\\projects\\supportlocal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\mail\\Desktop\\projects\\supportlocal\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsgLy8gaW1wb3J0IExvY2F0aW9uc0RhdGEgZnJvbSAiLi4vZGF0YS9sb2NhdGlvbnMuanNvbiI7CgppbXBvcnQgZGIgZnJvbSAiLi8uLi9maXJlYmFzZS9kYi5qcyI7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgZmlsdGVyOiB7CiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICBzZWFyY2g6ICcnCiAgICB9LAogICAgbG9jYXRpb25zOiBbXQogIH0sCiAgYWN0aW9uczogewogICAgZmV0Y2hMb2NhdGlvbnM6IGZ1bmN0aW9uIGZldGNoTG9jYXRpb25zKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBkYi5jb2xsZWN0aW9uKCJsb2NhdGlvbnMiKS5vcmRlckJ5KCJuYW1lIikuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnlTbmFwc2hvdCkgewogICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICBjb21taXQoImFkZExvY2F0aW9uIiwgZG9jLmRhdGEoKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhZGRDYXRlZ29yeUZpbHRlcjogZnVuY3Rpb24gYWRkQ2F0ZWdvcnlGaWx0ZXIoc3RhdGUsIGNhdGVnb3J5KSB7CiAgICAgIGlmIChzdGF0ZS5maWx0ZXIuY2F0ZWdvcmllcy5pbmRleE9mKGNhdGVnb3J5KSA9PSAtMSkgewogICAgICAgIHN0YXRlLmZpbHRlci5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmZpbHRlci5jYXRlZ29yaWVzLnNwbGljZShzdGF0ZS5maWx0ZXIuY2F0ZWdvcmllcy5pbmRleE9mKGNhdGVnb3J5KSwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hGaWx0ZXI6IGZ1bmN0aW9uIHNlYXJjaEZpbHRlcihzdGF0ZSwgc2VhcmNoVGV4dCkgewogICAgICBzdGF0ZS5maWx0ZXIuc2VhcmNoID0gc2VhcmNoVGV4dDsKICAgIH0sCiAgICBhZGRMb2NhdGlvbjogZnVuY3Rpb24gYWRkTG9jYXRpb24oc3RhdGUsIGxvY2F0aW9uKSB7CiAgICAgIHN0YXRlLmxvY2F0aW9ucy5wdXNoKGxvY2F0aW9uKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldEZpbHRlcmVkTG9jYXRpb25zOiBmdW5jdGlvbiBnZXRGaWx0ZXJlZExvY2F0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9jYXRpb25zLmZpbHRlcihmdW5jdGlvbiAobG9jYXRpb24pIHsKICAgICAgICBpZiAoKGxvY2F0aW9uLmNpdHkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0YXRlLmZpbHRlci5zZWFyY2gudG9Mb3dlckNhc2UoKSkgIT0gLTEgfHwgbG9jYXRpb24ubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RhdGUuZmlsdGVyLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSAhPSAtMSB8fCBsb2NhdGlvbi5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RhdGUuZmlsdGVyLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSAhPSAtMSB8fCBsb2NhdGlvbi5jYXRlZ29yaWVzLm1hcChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsKICAgICAgICAgIHJldHVybiBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RhdGUuZmlsdGVyLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSAhPSAtMTsKICAgICAgICB9KS5pbmRleE9mKHRydWUpICE9IC0xKSAmJiAoc3RhdGUuZmlsdGVyLmNhdGVnb3JpZXMubGVuZ3RoID09PSAwIHx8IGxvY2F0aW9uLmNhdGVnb3JpZXMubWFwKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlci5jYXRlZ29yaWVzLmluZGV4T2YoY2F0ZWdvcnkpICE9IC0xOwogICAgICAgIH0pLmluZGV4T2YodHJ1ZSkgIT0gLTEpKSB7CiAgICAgICAgICByZXR1cm4gbG9jYXRpb247CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRTZWFyY2hGaWx0ZXI6IGZ1bmN0aW9uIGdldFNlYXJjaEZpbHRlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZmlsdGVyLnNlYXJjaDsKICAgIH0sCiAgICBnZXRDYXRlZ29yeUZpbHRlcjogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlGaWx0ZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlci5jYXRlZ29yaWVzOwogICAgfQogIH0sCiAgc3RyaWN0OiB0cnVlCn0pOw=="},{"version":3,"sources":["C:/Users/mail/Desktop/projects/supportlocal/src/vuex/store.js"],"names":["Vue","Vuex","db","use","Store","state","filter","categories","search","locations","actions","fetchLocations","commit","collection","orderBy","get","then","querySnapshot","forEach","doc","data","mutations","addCategoryFilter","category","indexOf","push","splice","searchFilter","searchText","addLocation","location","getters","getFilteredLocations","city","toLowerCase","name","description","map","length","getSearchFilter","getCategoryFilter","strict"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n// import LocationsData from \"../data/locations.json\";\r\nimport db from \"./../firebase/db.js\"\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    filter: {\r\n      categories: [],\r\n      search: ''\r\n    },\r\n    locations: []\r\n  },\r\n  actions: {\r\n    fetchLocations({ commit }) {\r\n      db.collection(\"locations\").orderBy(\"name\").get().then(function (querySnapshot) {\r\n        querySnapshot.forEach(function (doc) {\r\n          commit(\"addLocation\", doc.data())\r\n        });\r\n      });\r\n    }\r\n  },\r\n  mutations: {\r\n    addCategoryFilter(state, category) {\r\n      if (state.filter.categories.indexOf(category) == -1) {\r\n        state.filter.categories.push(category)\r\n      } else {\r\n        state.filter.categories.splice(state.filter.categories.indexOf(category), 1)\r\n      }\r\n    },\r\n    searchFilter(state, searchText) {\r\n      state.filter.search = searchText\r\n    },\r\n    addLocation(state, location) {\r\n      state.locations.push(location)\r\n    }\r\n  },\r\n  getters: {\r\n    getFilteredLocations: state => {\r\n      return state.locations.filter(function (location) {\r\n        if (\r\n          (location.city.toLowerCase().indexOf(state.filter.search.toLowerCase()) != -1||\r\n            location.name.toLowerCase().indexOf(state.filter.search.toLowerCase()) != -1||\r\n            location.description.toLowerCase().indexOf(state.filter.search.toLowerCase()) != -1||\r\n            location.categories.map((category => category.toLowerCase().indexOf(state.filter.search.toLowerCase()) != -1)).indexOf(true)!=-1 )\r\n          && (state.filter.categories.length === 0 || location.categories.map((category => state.filter.categories.indexOf(category) != -1)).indexOf(true) != -1)) {\r\n          return location;\r\n        }\r\n      })\r\n    },\r\n    getSearchFilter: state => {\r\n      return state.filter.search\r\n    },\r\n    getCategoryFilter: state => {\r\n      return state.filter.categories;\r\n    }\r\n  },\r\n  strict: true\r\n})\r\n\r\n"]}]}